{% extends 'layout/base.html' %}
{% load static %}
{% block title %}Due Profile | Dealer Solution BD{% endblock %}
{% block nav_bar %}
    <nav class="max-w-lg mx-auto px-4 py-2 bg-themeblue sticky top-0 z-10 flex justify-between items-center">
        <a href="{% url 'retailer:retailer-home' %}" class="inline-block">
            <div
                    class="flex items-center p-2 text-white text-base active:bg-white/20 transition duration-150 ease-in-out">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-6 h-6">
                    <path fill-rule="evenodd"
                          d="M11.03 3.97a.75.75 0 010 1.06l-6.22 6.22H21a.75.75 0 010 1.5H4.81l6.22 6.22a.75.75 0 11-1.06 1.06l-7.5-7.5a.75.75 0 010-1.06l7.5-7.5a.75.75 0 011.06 0z"
                          clip-rule="evenodd"/>
                </svg>
                <span class="ml-1 font-medium text-lg">{{ name }}</span>
            </div>
        </a>
        <a href="{% url 'retailer:retailer-collection-from-dues' number %}"
           class="px-2 py-1 rounded-md bg-white text-slate-900">কালেকশন</a>
    </nav>
{% endblock %}
{% block main_content %}
    <section class="h-[calc(100vh-120px)]">
        <p class="text-bases text-gray-500 mb-3">মোবাইল: <a href="tel:{{ number }}">{{ number }}</a>
        </p>

        <div class="rounded border mx-auto">
            <!-- Tabs -->
            <ul id="tabs" class="flex pt-2 px-1 w-full border-b">
                <li
                        class="bg-white px-4 text-gray-800 font-semibold py-2 rounded-t border-t border-r border-l -mb-px">
                    <a id="default-tab" href="#first">বাকি আছে</a>
                </li>
                <li class="px-4 text-gray-800 font-semibold py-2 rounded-t"><a href="#second">জমা হয়েছে</a>
                </li>

            </ul>

            <!-- Tab Contents -->
            <div id="tab-contents">
                <div id="first" class="">
                    <div class="flex justify-between text-sm font-bold py-4 px-6 bg-[#f2f2f2] rounded-t-lg">
                        <div class="flex">
                            <div>নং</div>
                            <div class="ml-16">তারিখ</div>
                        </div>
                        <div>বাকি আছে</div>
                    </div>

                    <div class="divide-y h-96 overflow-y-auto rounded-sm">
                        {% for d in dues %}
                            <div class="flex justify-between p-4 bg-white">
                                <div class="flex">
                                    <div class="font-bold">{{ forloop.counter }}</div>
                                    <div class="ml-16">{{ d.date }}</div>
                                </div>
                                <div>{{ d.get_due }} <span>টাকা</span></div>
                            </div>
                        {% endfor %}
                    </div>

                    <div class="flex justify-between mt-3 px-6 text-lg font-medium">
                        <p>সর্বমোট:</p>
                        <p>{{ total_due }} <span>টাকা</span></p>
                    </div>
                </div>
                <div id="second" class="hidden">
                    <div class="flex justify-between text-sm font-bold py-4 px-6 bg-[#f2f2f2] rounded-t-lg">
                        <div class="flex">
                            <div>নং</div>
                            <div class="ml-16">তারিখ</div>
                        </div>
                        <div>জমা হয়েছে</div>
                    </div>

                    <div class="divide-y h-96 overflow-y-auto rounded-sm">
                        {% for collection in collections %}
                            <div class="flex justify-between p-4 bg-white">
                                <div class="flex">
                                    <div class="font-bold">{{ forloop.counter }}</div>
                                    <div class="ml-16">{{ collection.date }}</div>
                                </div>
                                <div>{{ collection.paid_amount }} <span>টাকা</span></div>
                            </div>
                        {% endfor %}
                    </div>

                    <div class="flex justify-between mt-3 px-6 text-lg font-medium">
                        <p>সর্বমোট:</p>
                        <p>{{ total_collection }} <span>টাকা</span></p>
                    </div>
                </div>

            </div>
        </div>

    </section>
{% endblock %}

{% block custom_js %}
    <script type="text/javascript" src="{% static 'assets/js/due-profile.js' %}"></script>
{% endblock %}
